# 📊 관심 종목 토론 데이터 수집 및 분석 프로젝트

### 🔹 프로젝트 정보
- **단계**: 04 PJT
- **주제**: 금융 - 종목 토론 댓글 데이터 크롤링 및 분석
- **팀원**: 양혜지, 오유빈
- **진행일자**: 2025.09.26

---

## 📌 프로젝트 개요

이 프로젝트는 **특정 주식 종목의 토론 댓글 데이터를 자동으로 수집하고 분석하는 웹 애플리케이션을 개발**하는 것을 목표로 합니다.  
사용자는 종목명을 입력하면 해당 종목의 토스증권 커뮤니티에서 댓글 데이터를 수집하고, 이를 웹에서 확인·삭제할 수 있으며, 추가적으로 **OpenAI API를 통해 댓글 여론을 분석**할 수 있습니다.

이 과정을 통해 웹 크롤링, 데이터베이스 연동, 웹 서비스 개발, AI 텍스트 분석까지 **데이터 파이프라인 전반을 실습**할 수 있습니다.

---

## 👥 팀원

양혜지, 오유빈

페어 프로그래밍 방식으로 협업하여, 개발 중 지속적인 역할 분담과 피드백을 통해 기능 구현을 진행했습니다.

---

## 🛠 사용 기술 및 도구

| 기술/도구         | 사용 목적 및 이유 |
|------------------|------------------|
| **Python**       | 크롤링, 백엔드 개발 전반에 사용 |
| **Django**       | 웹 애플리케이션 프레임워크로, 빠르게 CRUD 기능을 구성하기 위해 사용 |
| **Selenium**     | 토스증권 커뮤니티처럼 **동적으로 로딩되는 웹페이지의 댓글 데이터를 수집**하기 위해 사용 |
| **BeautifulSoup4** | HTML 파싱 및 정적 웹 요소 추출을 위해 사용 |
| **Requests**     | 일부 정적 페이지의 요청을 단순화하거나 상태 확인을 위해 사용 |
| **SQLite**       | 경량 데이터베이스로, 로컬 개발과 간단한 데이터 저장에 적합하여 사용 |
| **OpenAI API**   | 수집된 댓글을 **긍정/부정/중립**으로 분류하여 사용자에게 여론 분석 정보를 제공하기 위해 사용 |
| **Visual Studio Code** | 협업 및 코딩 환경 통합 도구로 사용 |

> **기술 이해도 및 도입 배경**  
이번 프로젝트에서는 웹에서 데이터를 수집하고 사용자에게 보여주는 과정이 필요했기 때문에, 각각의 기술을 목적에 맞게 선택했습니다.

- **Django**는 웹 화면을 빠르게 만들 수 있는 프레임워크입니다. HTML 템플릿과 데이터베이스 연동이 편리해서, 댓글 출력과 삭제 기능 구현에 적합했습니다.
- **Selenium**은 웹페이지가 자바스크립트로 동작하는 경우에도 실제 브라우저처럼 페이지를 열어 데이터를 가져올 수 있어서 사용했습니다. 토스증권처럼 댓글이 나중에 로딩되는 페이지에 적합했습니다.
- **BeautifulSoup4**는 HTML 구조를 파악해서 필요한 텍스트만 깔끔하게 가져올 수 있게 도와주는 도구라서, 크롤링 후 데이터 정리에 사용했습니다.
- **Requests**는 간단한 웹 요청이나 상태 확인을 할 때 빠르고 가볍게 사용할 수 있어서 일부 정적 페이지에 활용했습니다.
- **OpenAI API**는 댓글을 긍정/부정/중립으로 나누는 데 활용했습니다. 직접 규칙을 만들기보다는, AI가 문장의 감정을 파악해주는 방식이라서 훨씬 효율적이었습니다.

이 기술들을 사용하면서 각 도구의 특징과 쓰임새를 실제로 경험해볼 수 있었고, 어떤 상황에서 어떤 도구를 선택해야 하는지 감을 잡는 데 도움이 되었습니다.


---

## 🔧 구현 기능

| 기능 코드 | 기능명 | 설명 |
|----------|--------|------|
| F01 | 종목 입력 화면 | `/crawlings/index/` 경로에서 사용자가 종목명을 입력 |
| F02 | 데이터 크롤링 | 입력된 종목명을 토스증권에서 검색하고, 커뮤니티 댓글을 크롤링하여 DB에 저장 |
| F03 | 데이터 출력 | 저장된 댓글 데이터를 웹 화면에 리스트 형태로 출력 |
| F04 | 데이터 삭제 | 각 댓글 옆에 삭제 버튼을 배치하여 개별 댓글 삭제 기능 구현 |
| F05 | 여론 분석 (심화) | 수집된 댓글을 OpenAI API로 분석해 긍정/부정/중립 분류 및 시각화 출력 |

---

## ✅ 개발 배경 및 타당성

- **필요성**: 주식 투자자들은 커뮤니티 여론을 분석하여 투자 판단에 참고하고자 합니다.
- **대상**: 종목에 대한 실시간 여론을 수집하고 싶은 개인 투자자 또는 데이터 분석가.
- **사례**: 네이버 증권, 토스증권 등 커뮤니티 기능이 있는 금융 플랫폼에서 실시간 댓글을 모니터링하는 기능은 수요가 높습니다.

---

## ⚠️ 겪었던 어려움

### 기술적 문제
- 토스증권 커뮤니티는 **동적 로딩 구조**로 되어 있어, 단순한 requests로는 댓글 수집이 불가능했습니다.
- 일부 AJAX 요청이 비동기로 작동하여, 요소 로딩 타이밍 조절(Selenium `WebDriverWait`)이 필요했습니다.
- OpenAI API의 사용량 제한 및 응답 지연 문제로 인해 실시간 분석이 다소 느릴 수 있었습니다.

### 소통/협업 문제
- 페어 프로그래밍 초기에 **역할 구분이 모호**하여 충돌이 발생
- 코딩 스타일의 차이로 인해 Git 머지 시 충돌이 자주 발생함

---

## 🔄 어려움 극복 방법

- 기술적으로는 **Selenium의 명시적 대기(`WebDriverWait`)**를 사용하여 DOM이 완전히 로딩된 후 데이터 크롤링을 수행했습니다.
- 협업 측면에서는 **매일 아침 스크럼 회의를 도입**하여 그날의 목표와 역할을 명확히 정리했고, 역할을 팀장/드라이버로 명확히 나눴습니다.
- Git 충돌은 GitHub 브랜치 전략을 도입하여 `dev`, `feature/기능명` 브랜치로 분기하여 해결했습니다.

---

## 📈 앞으로의 계획 및 포부

- **실시간 크롤링 및 알림 기능**을 추가하여, 특정 키워드 또는 여론 변화가 감지되면 사용자에게 푸시 알림 기능 제공
- **대시보드 시각화**를 통해 여론 분석 결과를 시계열 그래프 등으로 보여주는 기능 확장
- 다양한 플랫폼(네이버 증권, 인벤, 뽐뿌 등)으로 크롤링 대상을 확장하여 멀티 소스 데이터 수집 체계 구축

---

## 💬 기타 소감

- 실제 투자 서비스에서 활용 가능한 기초 기능을 설계하고 구현함으로써 **웹 크롤링 → DB 저장 → 웹 출력 → AI 분석**까지 하나의 파이프라인을 완성한 경험이 유의미했습니다.
- 특히 **실시간 동적 웹사이트에서 필요한 크롤링 기술의 한계와 대응법**에 대해 실무 수준으로 학습할 수 있는 계기가 되었습니다.
- 무엇보다 **페어 프로그래밍을 통한 협업 경험**이 가장 값졌으며, 혼자라면 놓쳤을 아이디어와 문제 해결 방법을 함께 고민하고 실행한 점에서 큰 성장의 기회가 되었습니다.

---

📂 **최종 산출물 및 코드는 GitHub에 업로드되어 있으며, 버전 관리 및 변경 사항은 커밋 로그를 통해 확인할 수 있습니다.**
